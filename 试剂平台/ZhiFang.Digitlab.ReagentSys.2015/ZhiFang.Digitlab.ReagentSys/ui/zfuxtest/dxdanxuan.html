<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
 <title>多项选择拖动</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

    <link rel="stylesheet" type="text/css" href="../extjs/resources/css/ext-all.css"/>    
    <script type="text/javascript" src="../extjs/bootstrap.js" charset="utf-8"></script>
    <script type="text/javascript" src="../extjs/locale/ext-lang-zh_CN.js" charset="utf-8"></script>
	 <link rel="stylesheet" type="text/css" href="../css/icon.css"/> 
    <script type="text/javascript" src="../util/util.js"></script>
    <script src="../zhifangux/MultipleChoice.js" type="text/javascript"></script>

<script language="javascript" type="text/javascript">
     Ext.onReady(function(){
     //一 生成组件
	     var vartestobj=Ext.create('Ext.zhifangux.MultipleChoice', {
	           SearchField:'L2',SelectType:1, DataServerUrl:'server/leftSelectList.json',id:'left1',
	           SaveServerUrl:'server/leftSelectList.json',region:'west',split:true,
			   RootLeft:'ResultDataValue',
               RootRight:'ResultDataValue1',//只针对测试
	           ValueField:[
			       // {text:'id',dataIndex:'id',width:100,align: 'center',hidden:true},
			        {text:'检验项目',dataIndex:'L1',width:140,align: 'center'}
	           ],
	            listeners:{
			         //公开的事件
		         Ondrag:function(){
			         alert('当拖拽移动后触发');
			     },
			    // OnClick:function(){
			      //   alert('单击列表记录时触发');
			    // },
			     OnMove:function(){
			         alert('移动列表记录时触发');
			     },
			      OnSave:function(){
			         alert('保存时触发');
			     },
			      OndbClick:function(){
			         alert('双击列表记录时触发');
			     }
              }
		});
		//属性设置,多选方式
		var SelectType=Ext.create('Ext.Button', {
			text: '设置多选方式',
			handler: function() {
			    var left=Ext.getCmp('left1');
			    var LL1=Ext.getCmp('LL1').value;
                left.SetSelectType(LL1);	
	       }
        });  

	    //属性设置:
		var mysetTitle=Ext.create('Ext.toolbar.Toolbar', {
	    width   : 260,
		height:25,
		bodyCls:'bg-white',//控件主体背景样式,默认值'bg-white',为"css/icon.css"里的.bg-white
		cls:'bg-white',//控件样式设置,默认值'bg-white',为"css/icon.css"里的.bg-white
		border : 0,//边框线显示 true,或隐藏false
	    items: [
	        {
	            xtype    : 'textfield',
	            name     : 'field1',
				id:"L1",
	            emptyText: '多选方式'
	        },
			 {
	              xtype: SelectType,
	        }
	    ]
		});	
	    //属性设置:后台服务地址
		var mysetWidth =Ext.create('Ext.toolbar.Toolbar', {
		    width   : 260,
			height:25,
			bodyCls:'bg-white',//控件主体背景样式,默认值'bg-white',为"css/icon.css"里的.bg-white
			cls:'bg-white',//控件样式设置,默认值'bg-white',为"css/icon.css"里的.bg-white
			border : 0,//边框线显示 true,或隐藏false
		    items: [
		        { xtype    : 'textfield',id:"L2",emptyText: '设置后台服务地址'},
			    { xtype: 'button', text: '后台服务地址',border : true,//边框线显示 true,或隐藏false
			     handler: function() {
				   
				 }
		        }
		    ]
		});	
	
		 //属性设置:后台保存服务地址
		var mysetHeight =Ext.create('Ext.toolbar.Toolbar', {
		    width   : 260,
			height:25,
			bodyCls:'bg-white',//控件主体背景样式,默认值'bg-white',为"css/icon.css"里的.bg-white
			cls:'bg-white',//控件样式设置,默认值'bg-white',为"css/icon.css"里的.bg-white
			border : 0,//边框线显示 true,或隐藏false
		    items: [
		        {xtype    : 'textfield',id:"my_setHeight",emptyText: '设置后台保存服务地址'},
				{ xtype: 'button',text: '后台保存服务地址',border : true,//边框线显示 true,或隐藏false
				handler: function() {
			
					}
		        }
	        ]
		});	
		
			 //属性设置:查询项匹配数据对象的属性
		var  SearchField=Ext.create('Ext.toolbar.Toolbar', {
		    width   : 260,
			height:25,
			bodyCls:'bg-white',//控件主体背景样式,默认值'bg-white',为"css/icon.css"里的.bg-white
			cls:'bg-white',//控件样式设置,默认值'bg-white',为"css/icon.css"里的.bg-white
			border : 0,//边框线显示 true,或隐藏false
		    items: [
		        { xtype    : 'textfield',id:"L5",emptyText: '设置查询项匹配数据对象的属性'},
			    { xtype: 'button', text: '查询项匹配数据对象的属性',border : true,//边框线显示 true,或隐藏false
			     handler: function() {
				   
				 }
		        }
		    ]
		});	
	
	
			 //属性设置:主键字段
		var  KeyField=Ext.create('Ext.toolbar.Toolbar', {
		    width   : 260,
			height:25,
			bodyCls:'bg-white',//控件主体背景样式,默认值'bg-white',为"css/icon.css"里的.bg-white
			cls:'bg-white',//控件样式设置,默认值'bg-white',为"css/icon.css"里的.bg-white
			border : 0,//边框线显示 true,或隐藏false
		    items: [
		        { xtype    : 'textfield',id:"L6",emptyText: '设置主键字段'},
			    { xtype: 'button', text: '主键字段',border : true,//边框线显示 true,或隐藏false
			     handler: function() {
				   
				 }
		        }
		    ]
		});	
		
		//属性设置:值字段
		var  ValueField=Ext.create('Ext.toolbar.Toolbar', {
		    width   : 260,
			height:25,
			bodyCls:'bg-white',//控件主体背景样式,默认值'bg-white',为"css/icon.css"里的.bg-white
			cls:'bg-white',//控件样式设置,默认值'bg-white',为"css/icon.css"里的.bg-white
			border : 0,//边框线显示 true,或隐藏false
		    items: [
		        { xtype    : 'textfield',id:"L7",emptyText: '设置值字段'},
			    { xtype: 'button', text: '值字段',border : true,//边框线显示 true,或隐藏false
			     handler: function() {
				   
				 }
		        }
		    ]
		});	
	
	
		//方法设置:设置设置多选方式
	    var mysetTitleM =Ext.create('Ext.toolbar.Toolbar', {
        width   : 260,
			height:25,
			bodyCls:'bg-white',//控件主体背景样式,默认值'bg-white',为"css/icon.css"里的.bg-white
			cls:'bg-white',//控件样式设置,默认值'bg-white',为"css/icon.css"里的.bg-white
			border : 0,//边框线显示 true,或隐藏false
		    items: [
		        {xtype    : 'textfield',id:"LL1",emptyText: '设置多选方式'},
				{ xtype: 'button',text: '设置多选方式',border : true,//边框线显示 true,或隐藏false
				handler: function() {
                    }
		        }
		    ]
	    });	
			
	
	
		//方法设置:设置列表列
		var mysetWidthM =Ext.create('Ext.toolbar.Toolbar', {
		    width   : 260,
			height:25,
			bodyCls:'bg-white',//控件主体背景样式,默认值'bg-white',为"css/icon.css"里的.bg-white
			cls:'bg-white',//控件样式设置,默认值'bg-white',为"css/icon.css"里的.bg-white
			border : 0,//边框线显示 true,或隐藏false
		    items: [
		        {xtype : 'textfield',id:"LL2",emptyText: '设置列表列'},
				{xtype: 'button',text: '设置列表列',border : true,//边框线显示 true,或隐藏false
				handler: function() {
				    var left=Ext.getCmp('left1');
                    var ff=[];
                    var LL2=Ext.getCmp('LL2').value;
                    left.SetCol(LL2);
				    left.ReLoad();
				   }
		        }
		    ]
		});	
	
		//方法设置:设置左列表
		var mysetHeightM =Ext.create('Ext.toolbar.Toolbar', {
		    width   : 260,
			height:25,
			bodyCls:'bg-white',//控件主体背景样式,默认值'bg-white',为"css/icon.css"里的.bg-white
			cls:'bg-white',//控件样式设置,默认值'bg-white',为"css/icon.css"里的.bg-white
			border : 0,//边框线显示 true,或隐藏false
		    items: [
		        { xtype: 'textfield',id:"LL3",emptyText: '设置左列表'},
				{xtype: 'button',text: '设置左列表',border : true,//边框线显示 true,或隐藏false
				 handler: function() {
			         var left=Ext.getCmp('left1');
			         var LL3=Ext.getCmp('LL3').value;
                     left.SetLeftList(LL3);
				   }
		        }
		    ]
		});	
		
			//方法设置:设置右列表
		var SetRightList =Ext.create('Ext.toolbar.Toolbar', {
		    width   : 260,
			height:25,
			bodyCls:'bg-white',//控件主体背景样式,默认值'bg-white',为"css/icon.css"里的.bg-white
			cls:'bg-white',//控件样式设置,默认值'bg-white',为"css/icon.css"里的.bg-white
			border : 0,//边框线显示 true,或隐藏false
		    items: [
		        { xtype: 'textfield',id:"LL4",emptyText: '设置右列表'},
				{xtype: 'button',text: '设置右列表',border : true,//边框线显示 true,或隐藏false
				 handler: function() {
			
				   }
		        }
		    ]
		});	
	
				//方法设置:获取多选方式
		var mygetValueM =Ext.create('Ext.toolbar.Toolbar', {
		    width   : 260,
			height:25,
			bodyCls:'bg-white',//控件主体背景样式,默认值'bg-white',为"css/icon.css"里的.bg-white
			cls:'bg-white',//控件样式设置,默认值'bg-white',为"css/icon.css"里的.bg-white
			border : 0,//边框线显示 true,或隐藏false
		    items: [ 
				{xtype: 'button',text: '获取多选方式',border : true,//边框线显示 true,或隐藏false
				   handler: function() {
				        var left=Ext.getCmp('left1');
                         alert(left.GetSelectType());
					 }
			     }
			]
		});	
		
		
		//方法设置:保存列表对象
		var Save =Ext.create('Ext.toolbar.Toolbar', {
		    width   :260,
			height:25,
			bodyCls:'bg-white',//控件主体背景样式,默认值'bg-white',为"css/icon.css"里的.bg-white
			cls:'bg-white',//控件样式设置,默认值'bg-white',为"css/icon.css"里的.bg-white
			border : 0,//边框线显示 true,或隐藏false
		    items: [ 
				{xtype: 'button',text: '保存列表对象',border : true,//边框线显示 true,或隐藏false
				   handler: function() {
				       var left=Ext.getCmp('left1');
                       left.Save() 
					 }
			     }
			]
		});	
	
	   
	   //方法设置:重载列表对象
		var ReLoad =Ext.create('Ext.toolbar.Toolbar', {
		    width   : 260,
			height:25,
			bodyCls:'bg-white',//控件主体背景样式,默认值'bg-white',为"css/icon.css"里的.bg-white
			cls:'bg-white',//控件样式设置,默认值'bg-white',为"css/icon.css"里的.bg-white
			border : 0,//边框线显示 true,或隐藏false
		    items: [ 
				{xtype: 'button',text: '重载列表对象',border : true,//边框线显示 true,或隐藏false
				   handler: function() {
				       var left=Ext.getCmp('left1');
                       left.ReLoad();
					 }
			     }
			]
		});	
		
		 //方法设置:获取列表列
		var GetCol =Ext.create('Ext.toolbar.Toolbar', {
		    width   : 260,
			height:25,
			bodyCls:'bg-white',//控件主体背景样式,默认值'bg-white',为"css/icon.css"里的.bg-white
			cls:'bg-white',//控件样式设置,默认值'bg-white',为"css/icon.css"里的.bg-white
			border : 0,//边框线显示 true,或隐藏false
		    items: [ 
				{xtype: 'button',text: '获取列表列',border : true,//边框线显示 true,或隐藏false
				   handler: function() {
				       var left=Ext.getCmp('left1');
                       alert(Ext.encode(left.GetCol()));
					 }
			     }
			]
		});	
		
			 //方法设置:获取左列表
		var GetLeftList =Ext.create('Ext.toolbar.Toolbar', {
		    width   : 260,
			height:25,
			bodyCls:'bg-white',//控件主体背景样式,默认值'bg-white',为"css/icon.css"里的.bg-white
			cls:'bg-white',//控件样式设置,默认值'bg-white',为"css/icon.css"里的.bg-white
			border : 0,//边框线显示 true,或隐藏false
		    items: [ 
				{xtype: 'button',text: '获取左列表',border : true,//边框线显示 true,或隐藏false
				   handler: function() {
				       var left=Ext.getCmp('left1');
                       alert(Ext.encode(left.GetLeftList()));
					 }
			     }
			]
		});
			 //方法设置:获取右列表
		var GetRightList =Ext.create('Ext.toolbar.Toolbar', {
		    width   : 260,
			height:25,
			bodyCls:'bg-white',//控件主体背景样式,默认值'bg-white',为"css/icon.css"里的.bg-white
			cls:'bg-white',//控件样式设置,默认值'bg-white',为"css/icon.css"里的.bg-white
			border : 0,//边框线显示 true,或隐藏false
		    items: [ 
				{xtype: 'button',text: '获取右列表',border : true,//边框线显示 true,或隐藏false
				   handler: function() {
				       var left1=Ext.getCmp('left1');
                       alert(Ext.encode(left1.GetRightList()));
					 }
			     }
			]
		});
		
		 //方法设置:隐藏边框
		var border =Ext.create('Ext.toolbar.Toolbar', {
		    width   : 260,
			height:25,
			bodyCls:'bg-white',//控件主体背景样式,默认值'bg-white',为"css/icon.css"里的.bg-white
			cls:'bg-white',//控件样式设置,默认值'bg-white',为"css/icon.css"里的.bg-white
			border : 0,//边框线显示 true,或隐藏false
		    items: [ 
				{xtype: 'button',text: '设置隐藏边框',border : true,//边框线显示 true,或隐藏false
				   handler: function() {
				       var left=Ext.getCmp('left1');
                        left.setBorder(false);
					 }
			     }
			]
		});
		
		//三:呈现视图
		var viewport=Ext.create("Ext.container.Viewport",{
			layout:  'border',//Border布局
			bodyCls:'bg-white',//控件主体背景样式,默认值'bg-white',为"css/icon.css"里的.bg-white
			cls:'bg-white',//控件样式设置,默认值'bg-white',为"css/icon.css"里的.bg-white
			border : false,//边框线显示 true,或隐藏false
	        items: [
			   {region: 'center',border : false,//边框线显示 true,或隐藏false
			       items:[
				       { xtype:vartestobj,region:'west'}
				    ]
	           },{
				region: 'east',layout: 'accordion', frame: true,collapsible: true,split: true,width: 380,border : true,//边框线显示 true,或隐藏false
				items:[
				    {xtype: 'form',id: 'formtest_Property',autoScroll: true,bodyPadding: 10,collapsed: true,
					layout: 'column',title: '属性设置,测试用例未实现,可配置',
			        items: [
		               {xtype: mysetTitle,anchor: '100%'},
                       {xtype:mysetHeight,anchor: '100%'},
				       {xtype:mysetWidth,anchor: '100%'},
				       {xtype:SearchField,anchor: '100%'},
				       {xtype:KeyField,anchor: '100%'},
				       {xtype:ValueField,anchor: '100%'}
				    ]},
				   
				   {xtype: 'form',id: 'formtest_Method',autoScroll: true,bodyPadding: 10,collapsed: true,title: '方法设置,需要写入值的测试用例未实现',
			        items: [
						{xtype: mysetTitleM,anchor: '100%'},
			            {xtype:mysetHeightM,anchor: '100%'},
						{xtype:mysetWidthM,anchor: '100%'},
						{xtype:SetRightList,anchor: '100%'},
						{xtype:mygetValueM,anchor: '100%'},
					    {xtype:Save,anchor: '100%'},
						{xtype:ReLoad,anchor: '100%'},
						{xtype:GetCol,anchor: '100%'},
						{xtype:GetLeftList,anchor: '100%'},
						{xtype:GetRightList,anchor: '100%'},
						{xtype:border,anchor: '100%'}
						
					]
					},//事件设置
			        {xtype: 'form',id: 'formtest_Event',autoScroll: true,bodyPadding: 10,collapsed: true, title: '事件设置',
			        items: [
			         
					]}
				]}
			]
	    });
				
     });
		
 </script>
</head>
<body style="text-align:center;">
<center> 
</center> 
</body>
</html>