<!DOCTYPE html>
<html>
 <head> 
  <meta charset="utf-8" /> 
  <title>批量修改检验单 </title> 
  <meta name="renderer" content="webkit" /> 
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0" /> 
    <meta name="Cache-Control" content="no-cache">
  <script type="text/javascript">
		//加载版本号文件
		document.write("<script type='text/javascript' src='../../../../config/version.js?t=" + new Date().getTime() + "'><\/script>");
	</script> 
  <style>
		/*input前存在icon 则加到input里面*/
        .layui-input + .layui-icon { cursor:pointer;position: absolute;top: 0px;right: 6px;color: #009688; }
	    /*两个选择按钮居中显示*/
	    .buttonBox { position: relative;top: 50%;margin-top: -50px;}
        .buttonStyle { text-align: center;margin:10px 0;}
        /*页面*/
        .box{display:flex;margin:1px;}
		.left{width:300px;height:100%;margin:1px;}
		.left1{width:70px;height:100%;margin:1px;}
		.center{flex:1;height:100%;margin:1px;}
         /*lable长度*/
        .info .layui-form-label {
            position: relative;float: left;display: block;padding: 9px 15px;
            width:110px;font-weight: 400;line-height: 10px; text-align: right;
        }
        /* 分割块 */
        .layui-form-mid{position: relative; float: left; display: block; padding: 9px 0 !important; line-height: 20px; margin-right: 10px;}
		/*多项目列表报告值列头样式*/
		#item_reportvalue_table + div tr th:nth-child(8) { background-color:orange;color:#fff; }
	    /*单项目列表报告值列头样式*/
		#single_item_reportvalue_table + div tr th:nth-child(7) { background-color:orange;color:#fff; }
	    /* 使得下拉框与单元格刚好合适      */
		td > div{width: 100%;height: 100%; {margin-top: -10px;margin-left: -15px;margin-right: -15px;background-color: #000000;}  
       
	</style> 
 </head> 
 <body> 
  <div class="layui-card" style="margin-bottom:0;"> 
   <div class="box"> 
    <div class="left"> 
     <span style="color:#1DA296">已选检验单列表</span> 
     <div id="TestForm"></div>
     <!--<table class="layui-hide" id="table" lay-filter="table"> 
     </table> -->
    </div> 
    <div class="center" style="padding-left: 10px;"> 
     <div class="layui-tab layui-tab-brief my-tab-brief" lay-filter="tabs"> 
      <ul class="layui-tab-title"> 
       <li lay-id="select" class="layui-this">检验单选择</li> 
       <li lay-id="edit">检验单修改</li> 
       <li lay-id="add_item">添加检验项目</li> 
       <li lay-id="del_item">删除检验项目</li> 
       <li lay-id="add_items_value">多项目结果录入</li> 
       <li lay-id="add_single_item_value">单项目结果录入</li> 
       <li lay-id="dilution">稀释处理</li> 
       <li lay-id="deviation">结果偏移</li> 
      </ul> 
      <div class="layui-tab-content" style=" margin-bottom: 0px;padding-bottom: 0px;"> 
       <div class="layui-tab-item layui-show"> 
       	<div id="UnTestForm"></div>
       </div> 
       <div class="layui-tab-item"> 
        <div class="layui-form info" lay-filter="info_form" id="info_form"> 
         <div class="layui-btn-group"> 
          <button type="button" class="layui-btn layui-btn-xs" lay-submit="" lay-filter="submit_info"><i class="iconfont"></i>保存</button> 
          <button type="button" class="layui-btn layui-btn-primary layui-btn-xs" id="info_reset"><i class="layui-icon"></i>重置</button> 
         </div> 
         <hr class="layui-border-green" /> 
         <div class="layui-form-item"> 
          <div class="layui-inline"> 
           <label class="layui-form-label">样本类型</label> 
           <div class="layui-input-inline"> 
            <select name="LisTestForm_GSampleTypeID" autocomplete="off" id="LisTestForm_GSampleTypeID" lay-filter="LisTestForm_GSampleTypeID"></select>
           </div> 
    
          </div> 
          <div class="layui-inline"> 
           <label class="layui-form-label">小组样本描述</label> 
           <div class="layui-input-inline"> 
            <input type="text" name="LisTestForm_GSampleInfo"  id="LisTestForm_GSampleInfo" placeholder="" autocomplete="off" class="layui-input myedit" data-typecode="YBMS" data-typename="样本描述"  /> 
            <i class="layui-icon layui-icon-add-1"></i>
           </div> 
          </div> 
         </div> 
         <div class="layui-form-item"> 
          <div class="layui-inline"> 
           <label class="layui-form-label">检验样本备注</label> 
           <div class="layui-input-inline"> 
            <input type="text" name="LisTestForm_FormMemo" id="LisTestForm_FormMemo" placeholder="" autocomplete="off" class="layui-input myedit" data-typecode="YBBZ" data-typename="样本备注" /> 
            <i class="layui-icon layui-icon-add-1"></i>
           </div> 
          </div> 
          <div class="layui-inline"> 
           <label class="layui-form-label">样本特殊性状</label> 
           <div class="layui-input-inline"> 
            <input type="text" name="LisTestForm_SampleSpecialDesc" id="LisTestForm_SampleSpecialDesc" data-typecode="TSXZMS" data-typename="特殊性状描述" placeholder="" autocomplete="off" class="layui-input myedit" /> 
            <i class="layui-icon layui-icon-add-1"></i>
           </div> 
          </div> 
         </div> 
         <div class="layui-form-item"> 
          <div class="layui-inline"> 
           <label class="layui-form-label">检验备注</label> 
           <div class="layui-input-inline"> 
            <input type="text" name="LisTestForm_TestComment" id="LisTestForm_TestComment" data-typecode="JYBZ" data-typename="检验备注" placeholder="" autocomplete="off" class="layui-input myedit" /> 
            <i class="layui-icon layui-icon-add-1"></i>
           </div> 
          </div> 
          <div class="layui-inline"> 
           <label class="layui-form-label">检验评语</label> 
           <div class="layui-input-inline"> 
            <input type="text" name="LisTestForm_TestInfo" id="LisTestForm_TestInfo" data-typecode="JYPY" data-typename="检验评语" placeholder="" autocomplete="off" class="layui-input myedit" /> 
            <i class="layui-icon layui-icon-add-1"></i>
           </div> 
          </div> 
         </div> 
        </div> 
       </div> 
       <div class="layui-tab-item"> 
        <div class="layui-btn-group"> 
         <button class="layui-btn layui-btn-xs" type="button" id="additem"><i class="iconfont"></i>&nbsp;选项目</button> 
         <button class="layui-btn layui-bg-orange layui-btn-xs" type="button" id="del_item"><i class="layui-icon"></i>&nbsp;删除</button> 
         <button class="layui-btn layui-btn-xs" lay-submit="" id="save_item" lay-filter="save_item"><i class="iconfont"></i>执行添加项目</button> 
        </div> 
        <table class="layui-hide" id="item_table" lay-filter="item_table"> 
        </table> 
        <div class="layui-form"> 
         <div class="layui-form-item" style="margin: 0px;"> 
          <span>注:检验单如果没有这些项目,会添加这些项目</span> 
         </div> 
        </div> 
       </div> 
       <div class="layui-tab-item"> 
        <div class="layui-btn-group"> 
         <button class="layui-btn layui-btn-xs" type="button" id="del_additem"><i class="iconfont"></i>&nbsp;选项目</button> 
         <button class="layui-btn layui-bg-orange layui-btn-xs" type="button" id="del_delitem"><i class="layui-icon"></i>&nbsp;执行删除项目</button> 
        </div> 
        <table class="layui-hide" id="del_item_table" lay-filter="del_item_table"> 
        </table> 
        <div class="layui-form" id="del_item_form"> 
         <div class="layui-form-item" style="margin: 0px;"> 
          <input type="checkbox" id="isDelNoResultItem" title="仅删除没有结果的项目" lay-skin="primary" checked="" /> 
          <input type="checkbox" id="isDelNoOrderItem" title="仅删除非医嘱项目" lay-skin="primary" checked="" /> 
          <span>注:检验单如果存在这些项目,会删除这些项目</span> 
         </div> 
        </div> 
       </div> 
       <div class="layui-tab-item"> 
        <div class="layui-form"> 
         <div class="layui-inline"> 
          <button class="layui-btn layui-btn-xs" id="save_manyresult"><i class="iconfont"></i>保存</button> 
         </div> 
         <div class="layui-inline"> 
         	<input type="text" name='SectionItemID' id="SectionItemID" readonly autocomplete="off" class="layui-input layui-hide"  placeholder=""/>
         	<input type="text" name='SectionItemName' id="SectionItemName" readonly autocomplete="off" class="layui-input"  placeholder="项目"/>
            <i class="layui-icon layui-icon-triangle-d"></i>    
         </div> 
        </div> 
        <table class="layui-hide" id="item_reportvalue_table" lay-filter="item_reportvalue_table"></table> 
        <div class="layui-form" id="reportvalue_form"> 
         <input type="checkbox" id="isAddItem" title="<span style='color: blue;'>如果检验单不存在该项目,添加</span>" lay-skin="primary" checked="" /> 
         <span>批量设置检验结果=报告值(报告值不设置,则不处理该项目)</span> 
         <span style="padding-left: 5px;">报告值=空(汉字空),表示批量将该结果设置为空(Null)</span> 
        </div> 
       </div> 
       <div class="layui-tab-item"> 
        <div class="layui-form"> 
         <div class="layui-item"> 
          <div class="layui-inline"> 
           <button class="layui-btn layui-btn-xs" id="save_singleresult"><i class="iconfont"></i>保存</button> 
          </div> 
          <div class="layui-inline"> 
           <input type="text" name='single_SectionItemID' id="single_SectionItemID" readonly autocomplete="off" class="layui-input layui-hide"  placeholder=""/>
         	<input type="text" name='single_SectionItemName' id="single_SectionItemName" readonly autocomplete="off" class="layui-input"  placeholder="项目"/>
            <i class="layui-icon layui-icon-triangle-d"></i>    
    
    
          </div> 
         </div> 
        </div> 
        <div class="layui-col-xs12" >
        	<table class="layui-hide" id="single_item_reportvalue_table" lay-filter="single_item_reportvalue_table"> </table> 
        </div>
        
        <div class="layui-form"> 
         <input type="checkbox" id="single_isAddItem" title="<span style='color: blue;'>如果检验单不存在该项目,录入报告值有值,添加;</span>" lay-skin="primary" checked="" /> 
         <span>报告值=删除(汉字删除),表示该项目删除</span> 
        </div> 
       </div> 
       <div class="layui-tab-item"> 
        <div class="layui-form" lay-filter="form" id="form"> 
         <div class="layui-inline"> 
          <label class="layui-form-label">稀释倍数</label> 
          <div class="layui-input-inline"> 
          	<input type="text" name='InputMultiple' id="InputMultiple" autocomplete="off" lay-verify="number" value="10" min="0" onkeyup="this.value= this.value.replace(/^(0+)|[^\d]+/g,'')" class="layui-input inputSelect" />
           <select name="Multiple" lay-filter='Multiple' id="Multiple" lay-verify="required"> <option value="10">10</option> <option value="100">100</option> <option value="1000">1000</option> </select> 
          </div> 
         </div> 
         <div class="layui-inline"> 
          <button class="layui-btn layui-btn-xs" id="save_dilution"> <i class="iconfont"></i>执行 </button> 
         </div> 
        </div> 
        <table class="layui-hide" id="dilution_table" lay-filter="dilution_table"> 
        </table> 
       </div> 
       <div class="layui-tab-item" style="bottom: 0;"> 
        <button class="layui-btn layui-btn-xs" id="save_resultdeviation"> <i class="iconfont"></i>执行 </button> 
        <table class="layui-hide" id="resultdeviation_table" lay-filter="resultdeviation_table"> 
        </table> 
        <span id="resultdeviation_form"> 定量结果=原定量结果*偏移系数+附加值;不设置偏移系数和附加值,该项目不处理;不设置偏移系数,默认=1;不设置附加值,默认=0;</span> 
       </div> 
      </div> 
     </div> 
    </div> 
   </div> 
  </div> 
  <script type="text/javascript">
		UIVersion.loadLayui();
		UIVersion.getCSS('../../../../css/layui.form.sm.all.css');
		UIVersion.getJS('index.js');
	</script> 
	<style>
	 .layui-table-view{margin: 1px 0px; }
	   /*可输入的下拉样式*/
       .inputSelect { position: absolute;z-index: 100;width: 80%;top: 1px;left: 1px;height: 23px;border: none; }

	</style>
 </body>
</html>