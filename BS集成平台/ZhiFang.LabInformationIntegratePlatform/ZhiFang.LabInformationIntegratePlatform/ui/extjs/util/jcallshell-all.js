/**
 * @description JcallShell
 * @alias JShell
 * @author Jcall
 * @version 2020-05-27
 */
var JcallShell=JcallShell||{};JcallShell.emptyFn=function(){};JcallShell.typeOf=function(value){var type,typeToString;if(value===null)return'null';type=typeof value;if(type==='undefined'||type==='string'||type==='number'||type==='boolean'){return type}typeToString=Object.prototype.toString.call(value);switch(typeToString){case'[object Array]':return'array';case'[object Date]':return'date';case'[object Boolean]':return'boolean';case'[object Number]':return'number';case'[object RegExp]':return'regexp'}if(type==='function')return'function';if(type==='object'){if(value.nodeType!==undefined){if(value.nodeType===3){return(/\S/).test(value.nodeValue)?'textnode':'whitespace'}else{return'element'}}return'object'}JcallShell.Msg.log('无法确定指定的值的类型,这最有可能是一个BUG!该值是:'+value)};JcallShell.JSON={decodeErrorInfo:'错误!你正在解码一个无效的JSON字符串',encodeMark:'"',decode:function(json,safe){try{return this.doDecode(json)}catch(e){if(safe===true)return null;var errorInfo='Shell.util.JSON.decode '+this.decodeErrorInfo+':'+json;JcallShell.Msg.log(errorInfo)}},encode:function(obj,mark){var bo=(mark=='"'||mark=="'");if(bo){this.encodeMarkCopy=this.encodeMark;this.encodeMark=mark}var str=this.encodeValue(obj);if(bo){this.encodeMark=this.encodeMarkCopy}return str},encodeKey:function(value){return this.encodeMark+value+this.encodeMark},encodeArray:function(o){var a=['[',''];var length=o.length;for(var i=0;i<length;i++){a.push(this.encodeValue(o[i]),',')}a[a.length-1]=']';return a.join('')},encodeObj:function(o){var a=['{',''];for(var i in o){a.push(this.encodeKey(i),':',this.encodeValue(o[i]),',')}a[a.length-1]='}';return a.join('')},encodeStr:function(str){return str.replace(/\\/g,'\\\\').replace(eval('/'+this.encodeMark+'/g'),'\\'+this.encodeMark)},encodeValue:function(value){var type=JcallShell.typeOf(value);if(type==='null'||type==='undefined'){return'null'}else if(type==='number'||type==='boolean'){return value+''}else if(type==='string'){return this.encodeMark+this.encodeStr(value)+this.encodeMark}else if(type==='array'){return this.encodeArray(value)}else if(type==='object'){return this.encodeObj(value)}},doDecode:function(json){return eval('('+json+')')}};JcallShell.System=JcallShell.System||{};JcallShell.System.showLog=true;JcallShell.System.Path={LOCAL:'',ROOT:'',UI:'',MODULE_ICON_ROOT_16:'',MODULE_ICON_ROOT_32:'',MODULE_ICON_ROOT_64:'',DEFAULT_ERROR_URL:'',DEFAULT_ERROR_URL_ASPX:'',init:function(){this.LOCAL=this.getLocal();this.ROOT=this.getRootPath();this.UI=this.getUiPath();this.DEFAULT_ERROR_URL=this.UI+'/server/error.js';this.DEFAULT_ERROR_URL_ASPX=this.UI+'/server/error.aspx';this.MODULE_ICON_ROOT_16=this.getModuleIconPathBySize(16);this.MODULE_ICON_ROOT_32=this.getModuleIconPathBySize(32);this.MODULE_ICON_ROOT_64=this.getModuleIconPathBySize(64)},getRootPath:function(){var pathName=window.document.location.pathname;var projectName=pathName.substring(0,pathName.substr(1).indexOf('/')+1);var rootPath=this.getLocal()+projectName;return rootPath},getUiPath:function(){var pathName=window.document.location.pathname;var name=pathName.split('/').slice(1,4).join('/');return this.getLocal()+'/'+name},getLocal:function(){var curWwwPath=window.document.location.href;var pathName=window.document.location.pathname;var pos=curWwwPath.indexOf(pathName);var localhostPath=curWwwPath.substring(0,pos);return localhostPath},getModuleIconPathBySize:function(size){return this.ROOT+"/Images/Icons/"+size},getUrl:function(url){if(!url)return'';return(url.slice(0,4)=='http'?'':this.ROOT)+url},getRootUrl:function(url){if(!url)return'';return(url.slice(0,4)=='http'?'':this.ROOT)+url},getUiUrl:function(url){if(!url)return'';return(url.slice(0,4)=='http'?'':this.UI)+url}};JcallShell.System.Path.init();JcallShell.LocalStorage={set:function(name,value){localStorage.setItem(name,value)},get:function(name,isDecode){var data=localStorage.getItem(name);if(isDecode){data=Ext.JSON.decode(data)}return data},remove:function(name){localStorage.removeItem(name)}};JcallShell.System.Cookie={DEFAULT_COOKIE_HOUSE:24,map:{'LABID':'000100','LABNAME':'000101','USERID':'000200','USERNAME':'000201','ACCOUNTID':'000300','ACCOUNTNAME':'000301','ACCOUNTCODE':'000302','DEPTID':'000400','DEPTNAME':'000401','DEPTCODE':'000402','MODULEID':'000500','MODULENAME':'000501','MODULEOPERID':'000600','MODULEOPERNAME':'000601','DEFAULTMODULEID':'100001','ISLOCKED':'100002','OLDACCOUNTNAME':'100003','OPENEDMODULEIDS':'100004','REMEMBERACCOUNT':'100005','REMEMBERPWD':'100006'},get:function(name){var nameT=this.map[name]||name,reg=new RegExp("(^| )"+nameT+"=([^;]*)(;|$)"),arr=document.cookie.match(reg);if(arr){return unescape(decodeURI(arr[2]).replace(/\+/g,"%20"))}return null},set:function(value,days){if(!value)return;var type=JcallShell.typeOf(value);var list=type=='object'?[value]:value;var dayTimes=24*60*60*1000,days=days||30,exp=new Date();exp.setTime(exp.getTime()+dayTimes*days);var len=list.length;for(var i=0;i<len;i++){var name=list[i].name;var value=list[i].value;if(list[i].expires){exp=list[i].expires}var nameT=this.map[name]||name;document.cookie=name+"="+encodeURI(value)+"; expires="+exp.toGMTString()+"; path=/"}},getDefaultCookieExpires:function(){var date=new Date();date.setTime(date.getTime()+this.DEFAULT_COOKIE_HOUSE*3600*1000);return date},delCookie:function(name){var cval=this.getCookie(name);if(!cval)return;var exp=new Date();exp.setTime(exp.getTime()-1);document.cookie=name+"="+cval+";expires="+exp.toGMTString()},getAllCookie:function(){var keys=document.cookie.match(/[^ =;]+(?=\=)/g);var list=[];if(keys){for(var i=0;i<keys.length;i++){list.push([keys[i],this.get(keys[i])])}}return list},clearCookie:function(){var keys=document.cookie.match(/[^ =;]+(?=\=)/g);if(keys){for(var i=0;i<keys.length;i++){document.cookie=keys[i]+'=0;expires='+new Date(0).toUTCString()}}}};JcallShell.Page={getParams:function(toUpperCase){var url=location.search;if(url.indexOf("?")==-1)return{};var str=url.substr(1),strs=str.split("&"),len=strs.length,params={};for(var i=0;i<len;i++){var arr=strs[i].split("=");if(toUpperCase){arr[0]=arr[0].toLocaleUpperCase()}params[arr[0]]=decodeURI(arr[1])}return params},changeLangage:function(lang){JShell.System.Lang=lang;var content=[];if(!lang||lang.toLocaleUpperCase()=='CN'){content.push('<script type="text/javascript" src="'+JcallShell.System.Path.ROOT+'/ui/src/extjs/locale/ext-lang-zh_CN.js"></script>')}else{var file=JcallShell.System.Path.UI+'/locale/'+JShell.System.Lang.toLocaleLowerCase()+'/config/config_System.js';content.push('<script type="text/javascript" src="'+file+'"></script>')}document.write(content.join(''))}};JcallShell.Msg={ALERT_TITLE:'提示信息',WARNING_TITLE:'警告信息',ERROR_TITLE:'错误信息',CONFIRM_TEXT:'确认信息',DEL_INFO:'确定要删除吗？',OPERATION_INFO:'确定要操作吗？',OVERWRITE:'需要重写',overwrite:function(value){var v=value||'';v+=' '+this.OVERWRITE;this.warning(v)},del:function(fn){var config={title:this.CONFIRM_TEXT,msg:this.DEL_INFO,icon:Ext.Msg.QUESTION,buttons:Ext.Msg.OKCANCEL,callback:fn};setTimeout(function(){Ext.Msg.show(config)},10)},confirm:function(config,fn){var con={title:this.CONFIRM_TEXT,msg:this.OPERATION_INFO,buttons:Ext.Msg.OKCANCEL,callback:fn};for(var i in config){con[i]=config[i]}if(!config.multiline&&!con.icon){con.icon=Ext.Msg.QUESTION}setTimeout(function(){Ext.Msg.show(con)},10)},log:function(value){if(JcallShell.System.showLog&&window.console&&JShell.typeOf(window.console.log)=='function'){window.console.log(value)}},alert:function(msg,title,times){title=title||this.ALERT_TITLE;msg='<b>'+msg+'</b>';this.show(msg,title,Ext.Msg.INFO,times)},warning:function(msg,title,times){title=title||this.WARNING_TITLE;msg='<b>'+msg+'</b>';this.show(msg,title,Ext.Msg.WARNING,times)},error:function(msg,title,times){title=title||this.ERROR_TITLE;msg='<b>'+msg+'</b>';this.show(msg,title,Ext.Msg.ERROR,times)},show:function(msg,title,icon,times){var me=this;Ext.Msg.autoScroll=true;if(me.delayF)clearTimeout(me.delayF);setTimeout(function(){var view=Ext.Msg.show({title:title,msg:msg,icon:icon,modal:true,buttons:Ext.Msg.YES});if(times&&times>0){me.delayF=setTimeout(function(){view.hide()},times)}},10)}};JcallShell.Date={getDate:function(value){if(!value)return null;var type=JcallShell.typeOf(value),date=null;if(type=='date'){date=new Date(value.getTime())}else if(type=='string'){if((value.length==26||value.length==27)&&value.slice(0,6)=="/Date("&&value.slice(-2)==")/"){value=parseInt(value.slice(6,-7))}else{value=value.replace(/-/g,'/')}date=new Date(value)}else if(type=='number'){date=new Date(value)}var isDate=(Date.parse(date)==Date.parse(date));return isDate?date:null},isValid:function(value){var date=this.getDate(value);return date?true:false},getNextDate:function(value,num){var date=this.getDate(value);if(!value)return null;var n=isNaN(num)?1:parseInt(num);date.setDate(date.getDate()+n);return date},toString:function(value,onlyDate,hasMilliseconds,hasDay){var v=this.getDate(value);if(!v)return null;var info='',year=v.getFullYear()+'',month=(v.getMonth()+1)+'',date=v.getDate()+'';month=month.length==1?'0'+month:month;date=date.length==1?'0'+date:date;info=year+'-'+month+'-'+date;if(!onlyDate){var hours=v.getHours()+'',minutes=v.getMinutes()+'',seconds=v.getSeconds()+'';hours=hours.length==1?'0'+hours:hours;minutes=minutes.length==1?'0'+minutes:minutes;seconds=seconds.length==1?'0'+seconds:seconds;info+=' '+hours+':'+minutes+':'+seconds}if(hasMilliseconds){info+=' '+v.getMilliseconds()}if(hasDay){var day=v.getDay();var text="星期";switch(day){case 0:text+="日";break;case 1:text+="一";break;case 2:text+="二";break;case 3:text+="三";break;case 4:text+="四";break;case 5:text+="五";break;case 6:text+="六";break}info+=" "+text}return info},toServerDate:function(value){var v=this.getDate(value);if(!v)return null;return"\/Date("+v.getTime()+"+0000)\/"},isMonthFirstDate:function(value){var v=this.getDate(value);if(!v)return false;if(v.getDate()==1)return true;return false},isMonthLastDay:function(value){var v=this.getDate(value);if(!v)return false;var month=v.getMonth();var month2=this.getNextDate(v).getMonth();if((month2-month-1)%12==0)return true;return false},isFullMonth:function(start,end){var s=this.getDate(start);var e=this.getNextDate(end);if(Date.parse(s)>=Date.parse(e))return false;if(s.getDate()!=e.getDate())return false;return true},getMonthFirstDate:function(year,month,toString){var m=((month+'').length==1?'0':'')+month;var date=year+'-'+m+'-01';if(!toString)date=this.getDate(date);return date},getMonthLastDate:function(year,month,toString){var date=new Date(year,month,0);if(toString)date=this.toString(date,true);return date}};JcallShell.Number={getMoney:function(num){var strUnit='仟佰拾亿仟佰拾万仟佰拾元角分',strOutput="";num+="00";var intPos=num.indexOf('.');if(intPos>=0){num=num.substring(0,intPos)+num.substr(intPos+1,2)}strUnit=strUnit.substr(strUnit.length-num.length);for(var i=0;i<num.length;i++){strOutput+='零壹贰叁肆伍陆柒捌玖'.substr(num.substr(i,1),1)+strUnit.substr(i,1)}var result=strOutput.replace(/零角零分$/,'整').replace(/零[仟佰拾]/g,'零').replace(/零{2,}/g,'零').replace(/零([亿|万])/g,'$1').replace(/零+元/,'元').replace(/亿零{0,3}万/,'亿').replace(/^元/,"零元");return result}};JcallShell.Array={reorder:function(list,key,isDesc){if(!key)return list;if(JcallShell.typeOf(list)!='array')return list;var arr=Ext.clone(list)||[],len=arr.length;for(var i=0;i<len;i++){if(arr[i][key]==null)return list}for(var i=0;i<len-1;i++){for(var j=i+1;j<len;j++){var bo=isDesc?(arr[i][key]<arr[j][key]):(arr[i][key]>arr[j][key]);if(bo){var temp=arr[i];arr[i]=arr[j];arr[j]=temp}}}return arr},isArray:function(obj){return Object.prototype.toString.call(obj)==='[object Array]'}};JcallShell.String={PARSEERROR:'解析错误',encode:function(value,unReserved){var v=value||'';v=unReserved?encodeURI(v):encodeURIComponent(v);return v},decode:function(value,unReserved){var v=value||'';v=unReserved?decodeURI(v):decodeURIComponent(v);return v},lenASCII:function(str){if(JcallShell.typeOf(str)!='string')return-1;return str.replace(/[^\x00-\xff]/g,'xx').length},substrASCII:function(str,start,lenASCII){if(JcallShell.typeOf(str)!='string')return null;var arr=str.split(''),length=arr.length,result=[],count=0,len=0;start=start<0?0:start;lenASCII=lenASCII<0?0:lenASCII;lenASCII=lenASCII>(length-start)?(length-start):lenASCII;for(var i=start;i<length;i++){len=this.lenASCII(arr[i]);count+=len;if(count>lenASCII)break;result.push(arr[i])}return result.join('')},inArray:function(str,array){var arr=array||[],len=arr.length;for(var i=0;i<len;i++){if(arr[i]==str)return true}return false}};JcallShell.Bytes={UNIT:1024,toSize:function(bytes){if(bytes===0){return'0 B'}var k=this.UNIT,sizes=['B','KB','MB','GB','TB','PB','EB','ZB','YB'],i=Math.floor(Math.log(bytes)/Math.log(k));var result=(bytes/Math.pow(k,i)).toPrecision(3)+' '+sizes[i];return result}};JcallShell.Server={LOADING_TEXT:'数据加载中...',SAVE_TEXT:'数据保存中...',DEL_TEXT:'数据删除中...',NO_DATA:'没有找到数据',TIME_OUT_MILLISECOND:600000,HEADERS:[{key:'User-Agent-Zip-Fa',value:'6D0F3E94-B672-4BFD-B614-00398C73447D'}],Status:{ERROR_404:'无法找到地址',ERROR_505:'服务器出错了',ERROR_UNDEFINED:'未定义错误',ERROR_TIMEOUT:'请求服务超时',ERROR_UNIQUE_KEY:'违反了唯一键约束'},resultParams:{success:"success",msg:"ErrorInfo",value:"ResultDataValue"},get:function(url,callback,async,timeout,isString){this.toServer('GET',url,callback,async,null,null,timeout,isString)},post:function(url,params,callback,async,timeout,isString,defaultPostHeader){this.toServer('POST',url,callback,async,params,defaultPostHeader,timeout,isString)},toServer:function(method,url,callback,async,params,defaultPostHeader,timeout,isString){var me=this;timeout=timeout||this.TIME_OUT_MILLISECOND;Ext.Ajax.defaultPostHeader=defaultPostHeader||'application/json';var bo=async===false?false:true;var con={url:url,async:bo,method:method,success:function(response,opts){if(JcallShell.typeOf(callback)=="function"){var d=isString?response.responseText:me.toJson(response.responseText);callback(d)}},failure:function(response,options){if(JcallShell.typeOf(callback)=="function"){var value="";if(response.request.timedout){value="{"+me.resultParams.success+":false,"+me.resultParams.msg+":'"+me.Status.ERROR_TIMEOUT+"'}"}else{value="{"+me.resultParams.success+":false,"+me.resultParams.msg+"'"+me.getMsgByStatus(response.status)+"'}"}var d=isString?response.responseText:me.toJson(value);callback(d)}}};if(params){con.params=params}if(timeout){con.timeout=timeout}Ext.Ajax.request(con)},toJson:function(data){var result={};try{var v=Ext.JSON.decode(data.replace(/\\u000d\\u000a/g,'').replace(/\\u000a/g,'</br>').replace(/[\r\n]/g,'')),success=v[this.resultParams.success],value=v[this.resultParams.value],msg=v[this.resultParams.msg];if(value&&typeof(value)==="string"){if(isNaN(value)){try{value=value.replace(/[\r\n]/g,'');try{value=Ext.JSON.decode(value)}catch(e){console&&console.log(e)}}catch(e){value=value;success=false;msg=JcallShell.All.JSON_ERROR}}}if(success==="true")success=true;if(success==="false")success=false;if(!success){var index=msg.indexOf('UNIQUE KEY');if(index!=-1){msg=this.Status.ERROR_UNIQUE_KEY}}result={success:success,msg:msg,value:value}}catch(e){result={success:false,msg:JcallShell.String.PARSEERROR,value:null}}return result},getMsgByStatus:function(status){var msg=this.Status['ERROR_'+status]||this.Status.ERROR_UNDEFINED+'：'+status;return msg},Mapping:function(data){var value=Ext.clone(data);for(var i in value){value[i]=value[i].replace(/<\/br>/g,'\r\n');if(value[i]==='true')value[i]=true;if(value[i]==='false')value[i]=false}return value}};JcallShell.Action={DELAYTIME:500,delay:function(fun,scope,delayTime){if(JcallShell.typeOf(fun)!='function')return;var me=scope||this,delayTime=delayTime||this.DELAYTIME;me.etime=new Date().getTime();if(me.etime-me.stime<delayTime&&me.waitAction){clearTimeout(me.waitAction)}me.waitAction=setTimeout(fun,delayTime);me.stime=new Date().getTime()}};JcallShell.Win={open:function(panel,config){var maxHeight=document.body.clientHeight;var maxWidth=document.body.clientWidth;var par={maximizable:true,maxWidth:maxWidth,constrainHeader:true,modal:true,closable:true,draggable:true,resizable:true,floating:true};for(var i in config){par[i]=config[i]}if(par.maximizable){par=Ext.apply(par,this.getMaxMinConfig())}if(par.SUB_WIN_NO){par.tools=[{type:'help',tooltip:'查看帮助文档',handler:function(event,toolEl,tool){var me=this,win=me.ownerCt.ownerCt;if(win['HELP_'+par.SUB_WIN_NO]){var zIndex=win.zIndexManager.zseed+100;win['HELP_'+par.SUB_WIN_NO].getEl().setStyle('z-index',zIndex);var pos=win['HELP_'+par.SUB_WIN_NO].getPosition();pos[0]=pos[0]+1;win['HELP_'+par.SUB_WIN_NO].showAt(pos);var pos2=win['HELP_'+par.SUB_WIN_NO].getPosition();pos2[0]=pos2[0]-1;win['HELP_'+par.SUB_WIN_NO].showAt(pos2);return}var winHeight=win.getHeight();var winWidth=win.getWidth();var position=win.getPosition();var ModuleId=JShell.System.Cookie.get(JShell.System.Cookie.map.MODULEID);var SubWinNo=tool.ownerCt.SUB_WIN_NO;win['HELP_'+par.SUB_WIN_NO]=JcallShell.Win.open('Shell.class.qms.file.help.show.Panel',{title:'帮助信息',modal:false,height:winHeight,ModuleId:ModuleId,SubWinNo:SubWinNo,listeners:{close:function(){win['HELP_'+par.SUB_WIN_NO]=null;if(!win.maximized){win.showAt(position)}}}});var maxWidth=document.body.clientWidth;var helpWinWidth=win['HELP_'+par.SUB_WIN_NO].width;var winPosition=[position[0]-helpWinWidth/2,position[1]];var helpWinPostion=[winPosition[0]+winWidth,winPosition[1]];if(maxWidth<(winWidth+helpWinWidth+10)){winPosition=[5,position[1]];helpWinPostion=[maxWidth-helpWinWidth-5,winPosition[1]]}win.showAt(winPosition);win['HELP_'+par.SUB_WIN_NO].showAt(helpWinPostion)}}];if(par.maximizable){var tools=this.getMaxMinConfig().tools;par.tools=tools.concat(par.tools)}}var win=Ext.create(panel,par);if(win.height>maxHeight){win.setHeight(maxHeight)}if(win.closable&&win.closeAction==='destroy'){win.on({show:function(){new Ext.KeyMap(win.getEl(),{key:Ext.EventObject.ESC,fn:function(k,e){e.stopEvent();win.close()},scope:this,defaultEventAction:"stopEvent"}).enable()}})}if(par.SUB_WIN_NO){win.on({close:function(){if(win['HELP_'+par.SUB_WIN_NO]){win['HELP_'+par.SUB_WIN_NO].close()}}})}return win},getMaxMinConfig:function(){var config={tools:[{type:'maximize',itemId:'maximize',handler:function(){var me=this,head=me.ownerCt,panel=head.ownerCt,minimize=head.getComponent('minimize');panel.maximized=true;me.hide();minimize.show();head.oldSize=panel.getSize();head.oldPosition=panel.getPosition();var maxHeight=document.body.clientHeight;var maxWidth=document.body.clientWidth;panel.setPosition([0,0]);panel.setSize(maxWidth,maxHeight);panel.doLayout()}},{type:'minimize',itemId:'minimize',hidden:true,handler:function(){var me=this,head=me.ownerCt,panel=head.ownerCt,maximize=head.getComponent('maximize');panel.maximized=false;me.hide();maximize.show();panel.setPosition(head.oldPosition);panel.setSize(head.oldSize);panel.doLayout()}}]};return config},basic:{launchFullscreen:function(element){if(element.requestFullscreen){element.requestFullscreen()}else if(element.mozRequestFullScreen){element.mozRequestFullScreen()}else if(element.webkitRequestFullscreen){element.webkitRequestFullscreen()}else if(element.msRequestFullscreen){element.msRequestFullscreen()}},exitFullscreen:function(doc){if(doc.exitFullscreen){doc.exitFullscreen()}else if(doc.mozCancelFullScreen){doc.mozCancelFullScreen()}else if(doc.webkitExitFullscreen){doc.webkitExitFullscreen()}else if(doc.msExitFullscreen){doc.msExitFullscreen()}}},frame:{launchFullscreen:function(){var win=this.getFrameWin(window);JcallShell.Win.basic.launchFullscreen(win.document.documentElement)},exitFullscreen:function(){var win=this.getFrameWin(window);JcallShell.Win.basic.exitFullscreen(win.document)},getFrameWin:function(win){if(win!=win.parent){return win.parent}return win}}};JcallShell.QMS={Enum:{FFileOperationType:{1:'暂存',2:'确认提交',3:'审核通过',4:'批准',5:'发布',7:'作废',8:'撤消提交',9:'审核退回',10:'批准退回',11:'撤消发布',12:'修订文档',13:'禁用',14:'撤消禁用',15:'打回起草人',16:'置顶',17:'撤消置顶',18:'更新文档类型',19:'编辑更新'},FFileOperationTypeColor:{1:'#0D0D0D',2:'#FFC125',3:'#66CDAA',4:'#66CD00',5:'#008B00',6:'#FFCC00',7:'#EE0000',8:'#DC143C',9:'#DC143C',10:'#DC143C',11:'#DC143C',13:'#EE0000',14:'#0D0D0D',15:'#FF000F',16:'#EE0000'},FTypeTreeType:{'ISO151892012':'5523513825086689478','qms文档类型树':'4886056329905484272','智方知识库类型':'5133187353604336821','实验室知识库类型':'4864154738991150328','新闻频道':'5569287534789329919'},FType:{'文档应用':'1','新闻应用':'2','知识库应用':'3','修订文档应用':'4'},FFileType:{1:'新闻',2:'知识库',3:'质量体系'},AppOperationType:{'新增文档':'AddFFile','编辑文档':'EditFFile','新增新闻':'AddNews','编辑新闻':'EditNews','新增修订文档':'AddRevise','编辑修订文档':'EditRevise'},FFileStatus:{1:'暂时存储',2:'已提交',3:'已审核',4:'已批准',5:'发布',7:'作废',8:'撤消提交',9:'审核退回',10:'审批退回',15:'打回起草人'},FFileDateType:{'ffile.DrafterDateTime':'起草时间','ffile.CheckerDateTime':'审核时间','ffile.ApprovalDateTime':'批准时间','ffile.PublisherDateTime':'发布时间'},FFileCopyUserType:{'E-1':'无','E1':'全体人员','E2':'按部门','E3':'按角色','E4':'按人员','E5':'按区域'},QMSFFileRoleName:{'r1':'部门管理者','r2':'文档审核','r3':'文档审批','r4':'文档发布','r5':'文档浏览','r6':'文档起草','r7':'文档修订/作废'},WorkLogExportLevel:{'0':'仅自己和直接主管可见','1':'所属部门可见','2':'全公司可见'},PGMProgramStatus:{1:'暂时存储',3:'已发布'},PGMProgramStatusColor:{1:'#0D0D0D',2:'#FFC125',3:'#66CDAA'},PGMProgramDateType:{'pgmprogram.DataAddTime':'加入时间','pgmprogram.PublisherDateTime':'发布时间'},QMSTempletFillType:{0:'无类型',1:'按日填写',2:'按月填写',3:'按年填写',10:'按周填写',11:'按季填写',12:'按半年填写'},QMSReportNumber:{0:'一份',1:'多份'},QMSCheckLevel:{0:'无需审核',1:'一级审核',2:'二级审核',3:'三级审核'},getEmployeeRoleName:function(roleName){var employeeRoleName="";if(roleName==null){return employeeRoleName}var list=[];list=roleName.split(';');for(var i=0;i<list.length;i++){var tempCName=JcallShell.QMS.Enum.QMSFFileRoleName[list[i]];if(tempCName){employeeRoleName=employeeRoleName+"'"+tempCName+"'";if(i<list.length-1){employeeRoleName=employeeRoleName+","}}}return employeeRoleName},getList:function(name,hasAll,hasColor,hasNull,isSlice,isTemporary){var me=this;var obj=me[name];var list=[];if(!obj)return[];if(hasAll){list.push([0,JShell.All.ALL,'font-weight:bold;color:black;'])}for(var i in obj){if(!hasNull){if(obj[i]=='无')continue}var li=[(isSlice?i:i.slice(1)),obj[i]];if(hasColor){li.push('font-weight:bold;color:'+me.FFileOperationTypeColor[i]+';')}if(isTemporary){if([i]!=1){list.push(li)}}else{list.push(li)}}return list}}};JcallShell.All={ALL:'全部',TRUE:'是',FALSE:'否',LOADING_TEXT:'数据加载中...',ADD:'新增',EDIT:'修改',SHOW:'查看',CHECK_ONE_RECORD:'请选择一行数据进行操作',CHECK_MORE_RECORD:'请选择数据进行操作',SUCCESS_TEXT:'成功',FAILURE_TEXT:'失败',JSON_ERROR:'JSON数据解析错误'};(function(){JcallShell.Msg.ALERT_TITLE='提示信息';JcallShell.Msg.WARNING_TITLE='警告信息';JcallShell.Msg.ERROR_TITLE='错误信息';JcallShell.Msg.CONFIRM_TEXT='确认信息';JcallShell.Msg.DEL_INFO='确定要删除吗？';JcallShell.Msg.OVERWRITE='需要重写';JcallShell.Server.LOADING_TEXT='数据加载中...';JcallShell.Server.SAVE_TEXT='数据保存中...';JcallShell.Server.DEL_TEXT='数据删除中...';JcallShell.Server.NO_DATA='没有找到数据';JcallShell.Server.Status.ERROR_404='无法找到地址';JcallShell.Server.Status.ERROR_505='服务器出错了';JcallShell.Server.Status.ERROR_UNDEFINED='未定义错误';JcallShell.Server.Status.ERROR_TIMEOUT='请求服务超时';JcallShell.Server.Status.ERROR_UNIQUE_KEY='违反了唯一键约束';JcallShell.String.PARSEERROR='解析错误';JcallShell.All.ALL='全部';JcallShell.All.TRUE='是';JcallShell.All.FALSE='否';JcallShell.All.ADD='新增';JcallShell.All.EDIT='修改';JcallShell.All.SHOW='查看';JcallShell.All.CHECK_ONE_RECORD='请选择一行数据进行操作';JcallShell.All.CHECK_MORE_RECORD='请选择数据进行操作';JcallShell.All.SUCCESS_TEXT='成功';JcallShell.All.FAILURE_TEXT='失败';JcallShell.All.JSON_ERROR='JSON数据解析错误';window.JShell=JcallShell})();
